name: CodeQL Linter

on:
  push:
    branches: [i190651]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        language: [python]

    steps:
    - name: Checkout Code
      uses: actions/checkout@v2

    - name: Setup CodeQL
      uses: github/codeql-action/setup@v1
      with:
        languages: ${{ matrix.language }}
        auto-configure: true
        output-format: 'sarif'

    - name: Analyze code
      run: |
        codeql database create --language=${{ matrix.language }} --source-root=. ${{ matrix.language }}.db
        codeql analyze --database=${{ matrix.language }}.db --output=result.sarif

    - name: Upload results
      uses: github/codeql-action/upload-sarif@v1
      with:
        sarif_file: result.sarif
        paths: 
          '**/*.ipynb'
